-Xms256m

-Xmx512m

-XX:MaxNewSize=256m 年轻代最大值

-XX:MaxPermSize=256m 持久代最大值

 

#### -XX:+HeapDumpOnOutOfMemoryError

如果由于OOM导致JVM crash的时候，并会生成heap dump文件，命名规则java_pidxxxx.hprof

查看工具

eclipsemat

IBM heap ana:java -Xmx1600 -jar ha396.jar

 

#### -XX:-UseGCOverheadLimit

默认启用(+)，限制GC的运行时间，如果GC耗时过长，就抛OOM。

关闭限制(-)

过长的定义是，超过98%的时间用来做GC并且回收了不到2%的堆内存。实践中发现这个策略不能拯救你的应用，但是可以在应用挂掉之前做最后的挣扎，比如数据保存或者保存现场（Heap Dump）。一般都停用(-)。

 

#### -XX:+UseParNewGC

-XX:+UseParallelGC：选择垃圾收集器为并行收集器。此配置仅对年轻代有效。可以同时并行多个垃圾收集线程，但此时用户线程必须停止。

-XX:+UseParNewGC:设置年轻代为多线程收集。可与CMS收集同时使用。在serial基础上实现的多线程收集器。

\-----------------------------------------------------------------------------------------------------------------

-XX:+UseParallelGC 指 定在 New Generation 使用 parallel collector, 并行收集 , 暂停 app threads, 同时启动多个垃圾回收 thread, 不能和 CMS gc 一起使用 . 系统吨吐量优先 , 但是会有较长长时间的 app pause, 后台系统任务可以使用此 gc 

-XX:+UseParNewGC 指定在 New Generation 使用 parallel collector, 是 UseParallelGC 的 gc 的升级版本 , 有更好的性能或者优点 , 可以和 CMS gc 一起使用

 

#### -XX:+UseConcMarkSweepGC

设置年老代为并发收集